# ğŸ–¥ï¸ ìš´ì˜ ëŒ€ì‹œë³´ë“œ ëª…ì„¸ì„œ (ì›¹ ë°°í¬ ë²„ì „)

**Repository:** trading-platform-order
**Version:** 3.0
**Date:** 2025-12-17
**Tech Stack:** Streamlit + Cloudflare Tunnel + Zero Trust

> âš ï¸ **ì¤‘ìš”:** ì£¼ë¬¸ ì‹¤í–‰ì€ ìë™ì´ì§€ë§Œ, ëª¨ë‹ˆí„°ë§ê³¼ ë¹„ìƒì •ì§€ëŠ” ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

---

## 1. ê°œìš”

### 1.1 ëª©ì 

ê¹€í”„ ì°¨ìµê±°ë˜ ì‹œìŠ¤í…œì˜ **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**ê³¼ **ë¹„ìƒì •ì§€** ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

### 1.2 ì•„í‚¤í…ì²˜: ì›¹ í†µí•© (ë°˜ì‘í˜•)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ìš´ì˜ ì¸í„°í˜ì´ìŠ¤ êµ¬ì¡° (v3.0)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸŒ ì¸í„°ë„·                                                                 â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Cloudflare Zero Trust Access                                       â”‚   â”‚
â”‚   â”‚  â€¢ URL: https://dashboard.yourdomain.com                            â”‚   â”‚
â”‚   â”‚  â€¢ ì¸ì¦: Google OAuth / GitHub / Email OTP                          â”‚   â”‚
â”‚   â”‚  â€¢ ë¬´ë£Œ: 50ëª…ê¹Œì§€                                                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼ (ì¸ì¦ í†µê³¼ ì‹œì—ë§Œ)                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Cloudflare Tunnel (cloudflared)                                    â”‚   â”‚
â”‚   â”‚  â€¢ ì„œë²„ í¬íŠ¸ ë…¸ì¶œ ì—†ìŒ (ë³´ì•ˆ)                                        â”‚   â”‚
â”‚   â”‚  â€¢ ìë™ HTTPS                                                       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Vultr ì„œë²„                   â”‚   â”‚  Supabase                       â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ Streamlit (:8501)        â”‚â—„â”€â”€â”¤  â€¢ kimp_1m (ê¹€í”„ ë°ì´í„°)        â”‚   â”‚
â”‚   â”‚  â”‚     â€¢ ë°˜ì‘í˜• UI            â”‚   â”‚  â€¢ positions (í¬ì§€ì…˜)           â”‚   â”‚
â”‚   â”‚  â”‚     â€¢ ë¹„ìƒì •ì§€ ë²„íŠ¼        â”‚   â”‚  â€¢ trades (ê±°ë˜ ì´ë ¥)           â”‚   â”‚
â”‚   â”‚  â”‚     â€¢ ì‹¤ì‹œê°„ ì°¨íŠ¸          â”‚   â”‚  â€¢ system_status (ë¹„ìƒì •ì§€)     â”‚   â”‚
â”‚   â”‚  â””â”€â”€ Collector (ê¸°ì¡´)         â”‚   â”‚  â€¢ fx_rates (í™˜ìœ¨)              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚   ğŸ–¥ï¸ PC / ğŸ“± ëª¨ë°”ì¼: ë™ì¼ URL, ë°˜ì‘í˜• ì›¹                                    â”‚
â”‚   ğŸ”” ì•Œë¦¼: Telegram Bot (í‘¸ì‹œ ì•Œë¦¼ ì „ìš©)                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ì´ì „ ë²„ì „ê³¼ì˜ ì°¨ì´ì 

| í•­ëª© | v2.0 (ì´ì „) | v3.0 (í˜„ì¬) |
|------|-------------|-------------|
| **ì ‘ê·¼ ë°©ì‹** | localhost + Telegram | ì›¹ (ì–´ë””ì„œë‚˜) |
| **ëª¨ë°”ì¼** | Telegram Bot í•„ìˆ˜ | ë°˜ì‘í˜• ì›¹ (ë™ì¼ URL) |
| **ì¸ì¦** | ì—†ìŒ (ë¡œì»¬) | Cloudflare Zero Trust |
| **ë°°í¬** | Docker ë¡œì»¬ | Cloudflare Tunnel |
| **ë¹„ìƒì •ì§€ ì €ì¥** | Redis | Supabase |
| **Telegram** | í•µì‹¬ ê¸°ëŠ¥ | ì•Œë¦¼ ì „ìš© (ì„ íƒ) |

---

## 2. Cloudflare ì„¤ì •

### 2.1 í•„ìš” ì¡°ê±´

- Cloudflare ê³„ì • (ë¬´ë£Œ)
- ë„ë©”ì¸ (Cloudflare DNS ì‚¬ìš©)
- Vultr ì„œë²„ (ê¸°ì¡´ kimptrade ì„œë²„)

### 2.2 Cloudflare Tunnel ì„¤ì¹˜

```bash
# Vultr ì„œë²„ì—ì„œ ì‹¤í–‰

# 1. cloudflared ì„¤ì¹˜ (Ubuntu/Debian)
curl -L https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb -o cloudflared.deb
sudo dpkg -i cloudflared.deb

# 2. Cloudflare ë¡œê·¸ì¸
cloudflared tunnel login

# 3. í„°ë„ ìƒì„±
cloudflared tunnel create kimptrade-dashboard

# 4. ì„¤ì • íŒŒì¼ ìƒì„±
cat > ~/.cloudflared/config.yml << EOF
tunnel: <TUNNEL_ID>
credentials-file: /root/.cloudflared/<TUNNEL_ID>.json

ingress:
  - hostname: dashboard.yourdomain.com
    service: http://localhost:8501
  - service: http_status:404
EOF

# 5. DNS ë ˆì½”ë“œ ìƒì„±
cloudflared tunnel route dns kimptrade-dashboard dashboard.yourdomain.com

# 6. ì„œë¹„ìŠ¤ë¡œ ë“±ë¡ (ìë™ ì‹œì‘)
sudo cloudflared service install
sudo systemctl enable cloudflared
sudo systemctl start cloudflared
```

### 2.3 Zero Trust Access ì„¤ì •

1. **Cloudflare Dashboard** â†’ Zero Trust â†’ Access â†’ Applications
2. **Add an application** â†’ Self-hosted
3. ì„¤ì •:
   - Application name: `kimptrade-dashboard`
   - Session Duration: `24 hours`
   - Application domain: `dashboard.yourdomain.com`
4. **Policy ì¶”ê°€**:
   - Policy name: `Allow Owners`
   - Action: `Allow`
   - Include: `Emails` â†’ í—ˆìš©í•  ì´ë©”ì¼ ëª©ë¡
5. **Authentication**:
   - Identity providers: `One-time PIN` (ê°€ì¥ ê°„ë‹¨)
   - ë˜ëŠ” Google / GitHub OAuth ì—°ë™

### 2.4 ì¸ì¦ í”Œë¡œìš°

```
ì‚¬ìš©ìê°€ dashboard.yourdomain.com ì ‘ì†
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloudflare Zero Trust ì¸ì¦ í™”ë©´    â”‚
â”‚                                     â”‚
â”‚  ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”:          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ user@example.com            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      ğŸ“§ ì½”ë“œ ë°›ê¸°           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼ (ì´ë©”ì¼ë¡œ OTP ìˆ˜ì‹ )
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì¸ì¦ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”:            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 123456                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼ (ì¸ì¦ ì„±ê³µ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ê¹€í”„ ì°¨ìµê±°ë˜ ëŒ€ì‹œë³´ë“œ          â”‚
â”‚  (Streamlit ì•± í‘œì‹œ)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Streamlit ëŒ€ì‹œë³´ë“œ

### 3.1 ì‹¤í–‰ í™˜ê²½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì›¹ ë°°í¬ í™˜ê²½                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì‹¤í–‰: docker-compose up -d dashboard                          â”‚
â”‚   ë‚´ë¶€: http://localhost:8501                                   â”‚
â”‚   ì™¸ë¶€: https://dashboard.yourdomain.com (Cloudflare ê²½ìœ )      â”‚
â”‚                                                                 â”‚
â”‚   âœ… ì¸í„°ë„· ì–´ë””ì„œë‚˜ ì ‘ê·¼ ê°€ëŠ¥                                   â”‚
â”‚   âœ… PC/ëª¨ë°”ì¼ ë°˜ì‘í˜• ì§€ì›                                       â”‚
â”‚   âœ… Cloudflare Zero Trust ì¸ì¦                                 â”‚
â”‚   âœ… ìë™ HTTPS (Cloudflare)                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ê¹€í”„ ì°¨ìµê±°ë˜ ìš´ì˜ ëŒ€ì‹œë³´ë“œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      ğŸš¨ ë¹„ìƒ ì œì–´ íŒ¨ë„                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ ğŸ”´ ë¹„ìƒì •ì§€  â”‚  â”‚ ğŸŸ¢ ì‹œìŠ¤í…œ    â”‚  â”‚ ìƒíƒœ: ğŸŸ¢ ìë™ê±°ë˜ í™œì„±í™”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   (STOP)    â”‚  â”‚  ì¬ê°œ       â”‚  â”‚                          â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ğŸ“Š í¬ì§€ì…˜ í˜„í™©        â”‚  â”‚           ğŸ“ˆ ê¹€í”„ìœ¨ í˜„í™©              â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚  ì—…ë¹„íŠ¸: 0.5000 BTC       â”‚  â”‚  í˜„ì¬: 3.24%  ì§„ì…: 4.10%             â”‚  â”‚
â”‚  â”‚  í‰ê°€ì•¡: â‚©65,000,000      â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  [========= 1ì‹œê°„ ì°¨íŠ¸ =========]     â”‚  â”‚
â”‚  â”‚  ë°”ì´ë‚¸ìŠ¤: -0.5000 BTC    â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚  ì§„ì…ê°€: $94,500          â”‚  â”‚  ì—…ë¹„íŠ¸: â‚©130,500,000                 â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  ë°”ì´ë‚¸ìŠ¤ Ã— í™˜ìœ¨: â‚©130,080,000        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ğŸ’° ì†ìµ í˜„í™©          â”‚  â”‚           âš¡ ì‹œìŠ¤í…œ ìƒíƒœ              â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚  ê¹€í”„ ì°¨ìµ: +0.86%        â”‚  â”‚  ì—…ë¹„íŠ¸:   ğŸŸ¢ ì •ìƒ (23ms)            â”‚  â”‚
â”‚  â”‚  í€ë”©ë¹„:   +0.12%        â”‚  â”‚  ë°”ì´ë‚¸ìŠ¤: ğŸŸ¢ ì •ìƒ (45ms)            â”‚  â”‚
â”‚  â”‚  ìˆ˜ìˆ˜ë£Œ:   -0.20%        â”‚  â”‚  í™˜ìœ¨API: ğŸŸ¢ ì •ìƒ                    â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚  â”‚  DB:      ğŸŸ¢ ì—°ê²°ë¨                  â”‚  â”‚
â”‚  â”‚  ìˆœì´ìµ:   +0.78% âœ…      â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚                           â”‚  â”‚  ì—ëŸ¬: ìµœê·¼ 1ì‹œê°„ 0ê±´                 â”‚  â”‚
â”‚  â”‚  ê¸ˆì¼: +â‚©152,000          â”‚  â”‚                                       â”‚  â”‚
â”‚  â”‚  ëˆ„ì : +â‚©2,340,000        â”‚  â”‚                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       ğŸ“ ìµœê·¼ ê±°ë˜ ì´ë ¥                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ ì‹œê°„      â”‚ ê±°ë˜ì†Œ   â”‚ ì•¡ì…˜     â”‚ ìˆ˜ëŸ‰     â”‚ ê°€ê²©              â”‚ â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   â”‚
â”‚  â”‚  â”‚ 14:32:05  â”‚ Upbit    â”‚ BUY      â”‚ 0.5 BTC  â”‚ â‚©130,500,000      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ 14:32:05  â”‚ Binance  â”‚ SHORT    â”‚ 0.5 BTC  â”‚ $94,500           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ (ë°˜ì‘í˜•)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ê¹€í”„ ëŒ€ì‹œë³´ë“œ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚ ğŸš¨ ë¹„ìƒ ì œì–´            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   ğŸ”´ ë¹„ìƒì •ì§€       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   ğŸŸ¢ ì‹œìŠ¤í…œ ì¬ê°œ    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ìƒíƒœ: ğŸŸ¢ í™œì„±í™”         â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š í¬ì§€ì…˜               â”‚
â”‚ ì—…ë¹„íŠ¸: 0.5 BTC         â”‚
â”‚ ë°”ì´ë‚¸ìŠ¤: -0.5 BTC      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ ê¹€í”„ìœ¨: 3.24%        â”‚
â”‚ [===== ì°¨íŠ¸ =====]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° ìˆœì´ìµ: +0.78%       â”‚
â”‚ ê¸ˆì¼: +â‚©152,000         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ ì‹œìŠ¤í…œ ìƒíƒœ          â”‚
â”‚ ì—…ë¹„íŠ¸: ğŸŸ¢              â”‚
â”‚ ë°”ì´ë‚¸ìŠ¤: ğŸŸ¢            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ë¹„ìƒì •ì§€ ì‹œìŠ¤í…œ

### 4.1 ë¹„ìƒì •ì§€ ì„œë¹„ìŠ¤ (Supabase ê¸°ë°˜)

```python
# src/services/emergency_stop.py

from datetime import datetime, timezone
from supabase import create_client

class EmergencyStop:
    """ë¹„ìƒì •ì§€ ê´€ë¦¬ (Supabase ê¸°ë°˜)"""

    TABLE_NAME = "system_status"
    STATUS_KEY = "emergency_stop"

    def __init__(self, supabase_url: str, supabase_key: str):
        self.client = create_client(supabase_url, supabase_key)

    async def activate(self, reason: str = "manual") -> bool:
        """ë¹„ìƒì •ì§€ í™œì„±í™”"""
        now = datetime.now(timezone.utc).isoformat()
        data = {
            "key": self.STATUS_KEY,
            "value": {
                "active": True,
                "activated_at": now,
                "reason": reason,
            },
            "updated_at": now,
        }
        self.client.table(self.TABLE_NAME).upsert(data).execute()
        return True

    async def deactivate(self) -> bool:
        """ë¹„ìƒì •ì§€ í•´ì œ"""
        now = datetime.now(timezone.utc).isoformat()
        data = {
            "key": self.STATUS_KEY,
            "value": {
                "active": False,
                "deactivated_at": now,
            },
            "updated_at": now,
        }
        self.client.table(self.TABLE_NAME).upsert(data).execute()
        return True

    async def is_active(self) -> bool:
        """í˜„ì¬ ë¹„ìƒì •ì§€ ìƒíƒœ í™•ì¸"""
        result = (
            self.client.table(self.TABLE_NAME)
            .select("value")
            .eq("key", self.STATUS_KEY)
            .single()
            .execute()
        )
        if result.data:
            return result.data.get("value", {}).get("active", False)
        return False
```

### 4.2 Supabase í…Œì´ë¸” ìƒì„±

```sql
-- system_status í…Œì´ë¸” ìƒì„±
CREATE TABLE IF NOT EXISTS system_status (
    key VARCHAR(50) PRIMARY KEY,
    value JSONB NOT NULL DEFAULT '{}',
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ì´ˆê¸° ë¹„ìƒì •ì§€ ìƒíƒœ ì‚½ì…
INSERT INTO system_status (key, value)
VALUES ('emergency_stop', '{"active": false}')
ON CONFLICT (key) DO NOTHING;
```

### 4.3 ë¹„ìƒì •ì§€ ëª¨ë“œ ë™ì‘

| ê¸°ëŠ¥ | ì •ìƒ ëª¨ë“œ | ë¹„ìƒì •ì§€ ëª¨ë“œ |
|------|-----------|---------------|
| ì‹ ê·œ ì§„ì… | âœ… ìë™ ì‹¤í–‰ | âŒ ì°¨ë‹¨ |
| ì²­ì‚° | âœ… ì¡°ê±´ ì¶©ì¡± ì‹œ | âœ… ì¡°ê±´ ì¶©ì¡± ì‹œ (ìœ ì§€) |
| í¬ì§€ì…˜ ì¡°íšŒ | âœ… | âœ… |
| ëª¨ë‹ˆí„°ë§ | âœ… | âœ… |
| ì•Œë¦¼ | âœ… | âœ… (+ ì •ì§€ ìƒíƒœ ì•Œë¦¼) |

---

## 5. Telegram Bot (ì•Œë¦¼ ì „ìš©)

> ğŸ“ **ë³€ê²½ ì‚¬í•­:** v3.0ì—ì„œ Telegram Botì€ **í‘¸ì‹œ ì•Œë¦¼ ì „ìš©**ìœ¼ë¡œ ì¶•ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.
> ë¹„ìƒì •ì§€, ìƒíƒœ í™•ì¸ ë“±ì€ ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ìˆ˜í–‰í•©ë‹ˆë‹¤.

### 5.1 ì•Œë¦¼ ì´ë²¤íŠ¸

| ì´ë²¤íŠ¸ | ì•Œë¦¼ ë‚´ìš© |
|--------|-----------|
| **í¬ì§€ì…˜ ì§„ì…** | "ğŸ“ˆ í¬ì§€ì…˜ ì§„ì…\nê¹€í”„: 3.5%\nìˆ˜ëŸ‰: 0.5 BTC" |
| **í¬ì§€ì…˜ ì²­ì‚°** | "ğŸ“‰ í¬ì§€ì…˜ ì²­ì‚°\nìˆœì´ìµ: +1.2%\nìˆ˜ëŸ‰: 0.5 BTC" |
| **ë¹„ìƒì •ì§€** | "ğŸš¨ ë¹„ìƒì •ì§€ í™œì„±í™”\nì‹ ê·œ ì§„ì… ì°¨ë‹¨ë¨" |
| **ì‹œìŠ¤í…œ ì¬ê°œ** | "ğŸŸ¢ ì‹œìŠ¤í…œ ì¬ê°œ\nìë™ê±°ë˜ í™œì„±í™”" |
| **API ì—ëŸ¬** | "âš ï¸ API ì—ëŸ¬\nì—…ë¹„íŠ¸ ì—°ê²° ì‹¤íŒ¨ (3íšŒ)" |

### 5.2 ì•Œë¦¼ ë°œì†¡ í´ë˜ìŠ¤

```python
# src/telegram/notifier.py

import telegram
from datetime import datetime

class TelegramNotifier:
    """í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡ (ì•Œë¦¼ ì „ìš©)"""

    def __init__(self, token: str, chat_id: int):
        self.bot = telegram.Bot(token)
        self.chat_id = chat_id

    async def send(self, message: str):
        """ë©”ì‹œì§€ ë°œì†¡"""
        await self.bot.send_message(
            chat_id=self.chat_id,
            text=message,
            parse_mode="Markdown"
        )

    async def on_entry(self, kimp_rate: float, quantity: float):
        """ì§„ì… ì•Œë¦¼"""
        await self.send(
            f"ğŸ“ˆ *í¬ì§€ì…˜ ì§„ì…*\n\n"
            f"ê¹€í”„ìœ¨: {kimp_rate:.2f}%\n"
            f"ìˆ˜ëŸ‰: {quantity:.4f} BTC\n"
            f"ì‹œê°„: {datetime.now().strftime('%H:%M:%S')}\n\n"
            f"ğŸ“Š ëŒ€ì‹œë³´ë“œ: https://dashboard.yourdomain.com"
        )

    async def on_exit(self, net_profit: float, quantity: float):
        """ì²­ì‚° ì•Œë¦¼"""
        await self.send(
            f"ğŸ“‰ *í¬ì§€ì…˜ ì²­ì‚°*\n\n"
            f"ìˆœì´ìµ: {net_profit:+.2f}%\n"
            f"ìˆ˜ëŸ‰: {quantity:.4f} BTC\n"
            f"ì‹œê°„: {datetime.now().strftime('%H:%M:%S')}"
        )

    async def on_emergency_stop(self, reason: str):
        """ë¹„ìƒì •ì§€ ì•Œë¦¼"""
        await self.send(
            f"ğŸš¨ *ë¹„ìƒì •ì§€ í™œì„±í™”*\n\n"
            f"ì‚¬ìœ : {reason}\n"
            f"ìƒíƒœ: ì‹ ê·œ ì§„ì… ì°¨ë‹¨ë¨\n"
            f"ì‹œê°„: {datetime.now().strftime('%H:%M:%S')}\n\n"
            f"ğŸ“Š ëŒ€ì‹œë³´ë“œ: https://dashboard.yourdomain.com"
        )
```

---

## 6. ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
kimptrade/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ dashboard/              # ì›¹ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ app.py              # Streamlit ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ emergency_panel.py
â”‚   â”‚   â”‚   â”œâ”€â”€ position_card.py
â”‚   â”‚   â”‚   â”œâ”€â”€ kimp_chart.py
â”‚   â”‚   â”‚   â”œâ”€â”€ pnl_card.py
â”‚   â”‚   â”‚   â”œâ”€â”€ system_status.py
â”‚   â”‚   â”‚   â””â”€â”€ trade_history.py
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ emergency_stop.py
â”‚   â”‚
â”‚   â”œâ”€â”€ telegram/               # ì•Œë¦¼ ì „ìš©
â”‚   â”‚   â””â”€â”€ notifier.py
â”‚   â”‚
â”‚   â”œâ”€â”€ collectors/             # ë°ì´í„° ìˆ˜ì§‘ (ê¸°ì¡´)
â”‚   â”œâ”€â”€ calculators/            # ì§€í‘œ ê³„ì‚° (ê¸°ì¡´)
â”‚   â””â”€â”€ webhook/                # ì›¹í›… ìˆ˜ì‹  (ê¸°ì¡´)
â”‚
â”œâ”€â”€ Dockerfile.dashboard        # ëŒ€ì‹œë³´ë“œ Docker
â”œâ”€â”€ docker-compose.yml          # í†µí•© ì„¤ì •
â””â”€â”€ cloudflared/
    â””â”€â”€ config.yml              # Cloudflare Tunnel ì„¤ì •
```

---

## 7. Docker ì„¤ì •

### 7.1 docker-compose.yml

```yaml
version: '3.8'

services:
  # ë°ì´í„° ìˆ˜ì§‘ê¸° (ê¸°ì¡´)
  collector:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: kimptrade-collector
    restart: unless-stopped
    env_file:
      - .env

  # API ì„œë²„ (ê¸°ì¡´)
  api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: kimptrade-api
    command: ["python", "-m", "uvicorn", "src.main:app", "--host", "0.0.0.0", "--port", "8000"]
    ports:
      - "8000:8000"
    env_file:
      - .env
    restart: unless-stopped

  # ì›¹ ëŒ€ì‹œë³´ë“œ (ì‹ ê·œ)
  dashboard:
    build:
      context: .
      dockerfile: Dockerfile.dashboard
    container_name: kimptrade-dashboard
    ports:
      - "8501:8501"  # Cloudflare Tunnelì´ ì—°ê²°
    env_file:
      - .env
    restart: unless-stopped
```

### 7.2 Dockerfile.dashboard

```dockerfile
FROM python:3.11-slim

WORKDIR /app

# ì‹œìŠ¤í…œ ì˜ì¡´ì„±
RUN apt-get update && apt-get install -y --no-install-recommends \
    curl \
    && rm -rf /var/lib/apt/lists/*

# Python ì˜ì¡´ì„±
COPY requirements-dashboard.txt .
RUN pip install --no-cache-dir -r requirements-dashboard.txt

# ì†ŒìŠ¤ ì½”ë“œ
COPY src/ ./src/

# í™˜ê²½ ë³€ìˆ˜
ENV PYTHONUNBUFFERED=1
ENV PYTHONPATH=/app

EXPOSE 8501

CMD ["streamlit", "run", "src/dashboard/app.py", \
     "--server.port=8501", \
     "--server.address=0.0.0.0", \
     "--server.headless=true"]
```

### 7.3 requirements-dashboard.txt

```txt
streamlit==1.29.0
pandas==2.1.3
plotly==5.18.0
supabase==2.0.0
python-dotenv==1.0.0
loguru==0.7.2
```

---

## 8. í™˜ê²½ ë³€ìˆ˜

```bash
# .env

# Supabase
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=your_anon_key

# Telegram (ì•Œë¦¼ìš©, ì„ íƒ)
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Cloudflare (ì„œë²„ì—ì„œ ì„¤ì •)
# cloudflared tunnel loginìœ¼ë¡œ ìë™ ìƒì„±ë¨
```

---

## 9. ë³´ì•ˆ

### 9.1 ì ‘ê·¼ ì œì–´

| í•­ëª© | ë°©ë²• |
|------|------|
| **ì›¹ ì¸ì¦** | Cloudflare Zero Trust (Email OTP / OAuth) |
| **í—ˆìš© ì‚¬ìš©ì** | Zero Trust Policyì—ì„œ ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ |
| **HTTPS** | Cloudflare ìë™ (ë¬´ë£Œ SSL) |
| **ì„œë²„ í¬íŠ¸** | ì™¸ë¶€ ë…¸ì¶œ ì—†ìŒ (Tunnelë§Œ ì—°ê²°) |

### 9.2 ë¯¼ê° ì •ë³´ ë³´í˜¸

| ì •ë³´ | ì›¹ í‘œì‹œ | ì´ìœ  |
|------|---------|------|
| BTC ìˆ˜ëŸ‰ | âœ… í‘œì‹œ | ìš´ì˜ì— í•„ìš” |
| ì›í™” í‰ê°€ì•¡ | âš ï¸ ì„ íƒ | ê°œì¸ì •ë³´, í•„ìš” ì‹œ í‘œì‹œ |
| API í‚¤ | âŒ í‘œì‹œ ì•ˆí•¨ | í™˜ê²½ë³€ìˆ˜ë§Œ |
| ì£¼ë¬¸ ID | âš ï¸ ì¼ë¶€ë§Œ | ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ |

---

## 10. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 10.1 ì„œë²„ ì„¤ì •

- [ ] cloudflared ì„¤ì¹˜
- [ ] Cloudflare Tunnel ìƒì„±
- [ ] DNS ë ˆì½”ë“œ ì¶”ê°€
- [ ] config.yml ì„¤ì •
- [ ] systemd ì„œë¹„ìŠ¤ ë“±ë¡

### 10.2 Cloudflare ì„¤ì •

- [ ] Zero Trust ì•± ìƒì„±
- [ ] Policy ì„¤ì • (ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸)
- [ ] ì¸ì¦ ë°©ì‹ ì„ íƒ (OTP / OAuth)

### 10.3 Docker ë°°í¬

- [ ] Dockerfile.dashboard ìƒì„±
- [ ] docker-compose.yml ì—…ë°ì´íŠ¸
- [ ] `docker-compose up -d dashboard`

### 10.4 í…ŒìŠ¤íŠ¸

- [ ] ë¡œì»¬ ì ‘ì† í…ŒìŠ¤íŠ¸ (localhost:8501)
- [ ] ì™¸ë¶€ ì ‘ì† í…ŒìŠ¤íŠ¸ (dashboard.yourdomain.com)
- [ ] ì¸ì¦ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [ ] ë¹„ìƒì •ì§€ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

---

## 11. í•µì‹¬ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ìš´ì˜ ì¸í„°í˜ì´ìŠ¤ v3.0 (ì›¹ í†µí•©)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸŒ ì›¹ ëŒ€ì‹œë³´ë“œ (PC + ëª¨ë°”ì¼ í†µí•©)                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚   URL: https://dashboard.yourdomain.com                         â”‚
â”‚   ì¸ì¦: Cloudflare Zero Trust (Email OTP)                       â”‚
â”‚                                                                 â”‚
â”‚   âœ… ì–´ë””ì„œë‚˜ ì ‘ê·¼ ê°€ëŠ¥                                          â”‚
â”‚   âœ… PC/ëª¨ë°”ì¼ ë°˜ì‘í˜•                                            â”‚
â”‚   âœ… ë¹„ìƒì •ì§€ ë²„íŠ¼                                               â”‚
â”‚   âœ… ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§                                             â”‚
â”‚   âœ… ë¬´ë£Œ (Cloudflare + Supabase)                               â”‚
â”‚                                                                 â”‚
â”‚   ğŸ”” Telegram (ì•Œë¦¼ ì „ìš©, ì„ íƒ)                                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚   ì§„ì…/ì²­ì‚°/ì—ëŸ¬ í‘¸ì‹œ ì•Œë¦¼                                       â”‚
â”‚                                                                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                    Supabase: ë¹„ìƒì •ì§€ í”Œë˜ê·¸ ì €ì¥                 â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*â€” ë¬¸ì„œ ë â€”*
